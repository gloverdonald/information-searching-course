<!doctype html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
 <head>
  <title>Установка и настройка KVM под управлением CentOS 6 / Хабр</title>
 </head>
 <body>
  <div id="app" data-server-rendered="true" data-async-called="true">
   <div class="tm-layout__wrapper">
    <!---->
    <div></div><!---->
    <header class="tm-header">
     <div class="tm-page-width">
      <div class="tm-header__container">
       <!----> <span class="tm-header__logo-wrap"> <span class="tm-header__beta-sign" style="display:none;">β</span></span>
       <div class="tm-dropdown tm-header__projects">
        <div class="tm-dropdown__head">
         <button class="tm-header__dropdown-toggle"></button>
        </div><!---->
       </div>
       <div class="tm-feature tm-header__feature tm-feature tm-feature_variant-inline">
        <!---->
       </div><!----> <!---->
      </div>
     </div>
    </header>
    <div class="tm-layout">
     <div class="tm-page-progress-bar"></div>
     <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky">
      <div class="tm-page-width">
       <div class="tm-base-layout__header-wrapper">
        <div class="tm-main-menu">
         <div class="tm-main-menu__section">
          <nav class="tm-main-menu__section-content">
          </nav>
         </div>
        </div>
        <div class="tm-header-user-menu tm-base-layout__user-menu">
         <!----> <!----> <!---->
         <div class="tm-header-user-menu__item">
          <button class="tm-header-user-menu__toggle"></button>
         </div> <!---->
         <div class="v-portal" style="display:none;"></div>
        </div>
       </div>
      </div>
     </div><!---->
     <div class="tm-page-width"></div>
     <main class="tm-layout__container">
      <div hl="ru" data-async-called="true" class="tm-page">
       <div class="tm-page-width">
        <!---->
        <div class="tm-page__wrapper">
         <div class="tm-page__main tm-page__main_has-sidebar">
          <div class="pull-down">
           <!---->
           <div class="pull-down__header" style="height:0px;">
            <div class="pull-down__content" style="bottom:10px;"></div>
           </div>
           <div class="tm-adfox-banner__container">
            <!---->
            <div id="adfox_169815559787254866" class="tm-adfox-banner tm-adfox-banner tm-adfox-banner_variant-narrow"></div>
           </div>
           <div class="tm-article-presenter">
            <div class="tm-article-presenter__body">
             <div class="tm-misprint-area">
              <div class="tm-misprint-area__wrapper">
               <article class="tm-article-presenter__content tm-article-presenter__content_narrow">
                <div class="tm-article-presenter__header">
                 <div class="tm-article-snippet tm-article-presenter__snippet tm-article-snippet">
                  <div class="tm-article-snippet__meta-container">
                   <div class="tm-article-snippet__meta">
                    <span class="tm-user-info tm-article-snippet__author"> <span class="tm-user-info__user tm-user-info__user_appearance-default"> <span class="tm-article-datetime-published"><time datetime="2013-02-08T17:09:35.000Z" title="2013-02-08, 21:09">8 фев 2013 в 21:09</time></span></span></span>
                   </div><!---->
                  </div>
                  <h1 lang="ru" class="tm-title tm-title_h1"><span>Установка и настройка KVM под управлением CentOS 6</span></h1>
                  <div class="tm-article-snippet__stats">
                   <!---->
                   <div class="tm-article-reading-time">
                    <span class="tm-svg-icon__wrapper tm-article-reading-time__icon"></span> <span class="tm-article-reading-time__label"> 10 мин </span>
                   </div><span class="tm-icon-counter tm-data-icons__item"> <span class="tm-icon-counter__value">239K</span></span>
                  </div>
                  <div class="tm-publication-hubs__container">
                   <div class="tm-publication-hubs">
                    <span class="tm-publication-hub__link-container"></span>
                   </div>
                  </div>
                  <div class="tm-article-labels">
                   <div class="tm-article-labels__container">
                    <div class="tm-publication-label tm-publication-label_variant-tutorial">
                     <span> Туториал </span>
                    </div>
                   </div>
                  </div><!----> <!---->
                 </div>
                </div><!---->
                <div data-gallery-root="" lang="ru" class="tm-article-body">
                 <div></div>
                 <div id="post-content-body">
                  <div>
                   <div class="article-formatted-body article-formatted-body article-formatted-body_version-1">
                    <div xmlns="http://www.w3.org/1999/xhtml">
                     Приветствую вас, Хабражители!
                     <br>
                     <br>
                      Сегодня хочу поделиться с вами одним из своих наработанных мануалов, который отточен многоразовым применением, про который с уверенностью могу сказать, что «точно работает!» без лишних танцев с бубном.
                     <br><b>Ориентирована</b> статья скорее <b>на начинающих</b> системных администраторов, чем на гуру (для них тут ничего нового нет :) ), и в ней я постараюсь раскрыть рабочий и довольно быстрый вариант развертывания сервера виртуальных машин, стараясь при этом охватись как можно больше нюансов и подводных камней.
                     <br>
                     <br>
                      Однако, буду рад вниманию знающих и опытных админов, которые, возможно, дадут дельные советы и помогут поправить ошибки, если таковые имеются.
                     <br>
                     <br>
                     <div class="spoiler">
                      <b class="spoiler_title">Disclaimer</b>
                      <div class="spoiler_text">
                       Поправьте, если не так, но в поиске я не нашел реализации данной задачи именно на CentOS с подробным описанием всех шагов для новичков.
                       <br>
                        Хорошая серия статей написана , но они для Debian. 
                       <br>
                        Естественно, для бывалых админов, в этом никакой проблемы нет, но повторюсь, моя задача — описать подробную инструкцию для новичков. 
                       <br>
                       <br><b>Вопрос:</b> в Интернете есть множество руководств для установки Qemu KVM под CentOS, возразите вы, и чем же данная статья будет интересна? 
                       <br><b>Ответ: </b>здесь описывается полный цикл установки и настройки необходимых для виртуализации компонентов, установка гостевых виртуальных машин (ВМ), настройка белой и серой сети для ВМ, а также некоторые аспекты, которые помогут упростить управление ВМ, используя проброс графики с удаленного сервера на свой ПК и запуском virt-manager.
                       <br>
                      </div>
                     </div>
                     <br>
                     <br>
                      Помните 
                     <br>
                     <br>
                     <br>
                      Начнем с того, что если Вы читаете это, то у вас уже готова ОС CentOS 6 (я использовал версию 6.3), причем для установки гостевых ВМ разной битности (32 или 64), хост-сервер (физический сервер, на котором и будем устанавливать KVM вместе с ВМ) должен быть именно с 64-битной ОС. 
                     <br>
                      Все действия выполняются из-под пользователя <i>root.</i>
                     <br>
                     <br><b>Итак, приступим к руководству.</b>
                     <br>
                     <br><b>1. Шаг — Подготовка </b>
                     <br>
                     <br>
                      Проверяем, поддерживает ли CPU аппаратную виртуализацию:
                     <br>
                     <pre><code class="bash"># egrep '(vmx|svm)' /proc/cpuinfo
</code></pre>
                     <br>
                      Если вывод не пустой, значит — процессор поддерживает аппаратную виртуализацию. 
                     <br>
                      Кому интересно, все действия выполнялись на конфигурации Intel Xeon Quad Core E3-1230 3.20 GHz / 8GB / 2x 1TB.
                     <br>
                     <br>
                      Устанавливаем KVM и библиотеки виртуализации:
                     <br>
                     <pre><code class="bash"># yum install kvm libvirt
</code></pre>
                     <br>
                      Запускаем сервис KVM
                     <br>
                     <pre><code class="bash"># service libvirtd start
</code></pre>
                     <br>
                      Смотрим, загружен ли модуль KVM
                     <br>
                     <pre><code class="bash"># lsmod | grep kvm
</code></pre>
                     <br>
                      Должны получить вывод:
                     <br>
                     <pre><code class="bash">kvm_intel              52890  16
kvm                   314739  1 kvm_intel
</code></pre>
                     <br>
                      В данном случае видим, что загружен модуль <b>kvm_intel</b>, так как произволитель CPU — Intel.
                     <br>
                     <br>
                      Проверка подключения к KVM
                     <br>
                     <pre><code class="bash"># virsh sysinfo
</code></pre>
                     <br>
                      Должны получить вывод:
                     <br>
                     <pre><code class="bash">&lt;sysinfo type='smbios'&gt;
  &lt;bios&gt;
    &lt;entry name='vendor'&gt;HP&lt;/entry&gt;
    &lt;entry name='version'&gt;J01&lt;/entry&gt;
  .....
</code></pre>
                     <br>
                     <br><b>2. Шаг — Создание хранилища для виртуальных машин (Storage Pool)</b>
                     <br>
                     <br> приводится описание, как настроить хранилище разных видов.
                     <br>
                      В рассматриваемом же примере описан простой тип хранилища — для каждой ВМ создается свой файл *.img под виртуальный жесткий диск (или диски — если добавить их несколько), размещены они будут в директории /guest_images.
                     <br>
                      Только у нас эта директория будет точкой монтирования отдельного жесткого диска хост-сервера, специально отведенного для этих нужд. 
                     <br>
                      Безопасность сохранения данных и то, что нужно создавать как минимум зеркальный raid массив, чтобы не потерять данные ВМ в случае сбоя жесткого диска, мы не будем, так как это — отдельная тема.
                     <br>
                     <br>
                      Просмотрим список физических дисков на хост-сервере:
                     <br>
                     <pre><code class="bash"># fdisk -l
</code></pre>
                     <br>
                      Получился вывод:
                     <br>
                     <pre><code class="bash">Disk /dev/sda: 1000.2 GB, 1000204886016 bytes
......

Disk /dev/sdb: 1000.2 GB, 1000204886016 bytes
......
</code></pre>
                     <br>
                      На жестком диске <b>sda</b> установлена ОС, его не трогаем, а вот на <b>sdb</b> создаем раздел на все свободное место диска с файловой системой <b>ext4</b>:
                     <br>
                      (более подробно про следующие операции можно почитать )
                     <br>
                     <br>
                      Выбираем диск для редактирования
                     <br>
                     <pre><code class="bash"># fdisk /dev/sdb
</code></pre>
                     <br>
                      Создаем новый раздел
                     <br>
                     <pre><code class="bash">Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 1
</code></pre>
                     <br>
                      Сохраняем изменения
                     <br>
                     <pre><code class="bash">Command (m for help): w
The partition table has been altered!
</code></pre>
                     <br>
                      Создаем файловую систему ext4 на всем свободном месте диска /dev/sdb
                     <br>
                     <pre><code class="bash"># mkfs.ext4 /dev/sdb1
</code></pre>
                     <br>
                      Создаем точку монтирования нашего жесткого диска для файлов виртуальных машин:
                     <br>
                     <pre><code class="bash"># mkdir /guest_images 
# chmod 700 /guest_images
# ls -la /guest_images 
total 8  
drwx------.  2 root root 4096 May 28 13:57 . 
dr-xr-xr-x. 26 root root 4096 May 28 13:57 .. 
</code></pre>
                     <br>
                      Многие советуют отключить вообще , однако мы выберем иной путь. Мы настроим его правильно.
                     <br>
                     <pre><code class="bash"># semanage fcontext -a -t virt_image_t /guest_images
</code></pre>
                     <br>
                      Если выполнение этой команды не будет успешным, надо установить дополнительный пакет. Сначала узнаем, какой пакет предоставляет данную команду
                     <br>
                     <pre><code class="bash"># yum provides /usr/sbin/semanage
</code></pre>
                     <br>
                      Получим вывод:
                     <br>
                     <pre><code class="bash">Loaded plugins: rhnplugin 
policycoreutils-python-2.0.83-19.8.el6_0.x86_64 : SELinux policy core python utilities 
Repo        : rhel-x86_64-server-6 
Matched from: 
Filename    : /usr/sbin/semanage 
policycoreutils-python-2.0.83-19.1.el6.x86_64 : SELinux policy core python utilities 
Repo        : rhel-x86_64-server-6 
Matched from: 
Filename    : /usr/sbin/semanage 
</code></pre>
                     <br>
                      Устанавливаем policycoreutils-python
                     <br>
                     <pre><code class="bash"># yum -y install policycoreutils-python
</code></pre>
                     <br>
                      После этого снова:
                     <br>
                     <pre><code class="bash"># semanage fcontext -a -t virt_image_t /guest_images
</code></pre>
                     <br>
                      Смонтируем раздел /dev/sdb1 в /guest_images
                     <br>
                     <pre><code class="bash"># mount -t ext4 /dev/sdb1 /guest_images
</code></pre>
                     <br>
                      Отредактируем файл <b>/etc/fstab</b> для того, чтобы при перезагрузке хост-сервера раздел с ВМ монтировался автоматически
                     <br>
                     <pre><code class="bash"># vi /etc/fstab
</code></pre>
                     <br>
                      Добавляем строку по примеру тех, что уже имеются в файле
                     <br>
                     <pre><code class="bash">/dev/sdb1               /guest_images           ext4    defaults        1 1
</code></pre>
                     <br>
                      Сохраняем файл и продолжаем создание хранилища:
                     <br>
                     <pre><code class="bash"># virsh pool-define-as guest_images_dir dir - - - - "/guest_images" 
Pool guest_images_dir defined
</code></pre>
                     <br>
                      Проверяем, создалось ли оно:
                     <br>
                     <pre><code class="bash"># virsh pool-list --all 
Name                 State      Autostart  
----------------------------------------- 
default              active     yes        
guest_images_dir     inactive   no
</code></pre>
                     <br>
                      Далее:
                     <br>
                     <pre><code class="bash"># virsh pool-build guest_images_dir 
Pool guest_images_dir built 
</code></pre>
                     <br>
                      Запускаем хранилище:
                     <br>
                     <pre><code class="bash"># virsh pool-start guest_images_dir 
Pool guest_images_dir started 
# virsh pool-list --all 
Name                 State      Autostart  
----------------------------------------- 
default             active     yes        
guest_images_dir    active     no 
</code></pre>
                     <br>
                      Добавляем в автозагрузку:
                     <br>
                     <pre><code class="bash"># virsh pool-autostart guest_images_dir 
Pool guest_images_dir marked as autostarted 
# virsh pool-list --all 
Name                 State      Autostart  
----------------------------------------- 
default              active     yes        
guest_images_dir     active     yes 
</code></pre>
                     <br>
                      Проверяем:
                     <br>
                     <pre><code class="bash"># virsh pool-info guest_images_dir 
</code></pre>
                     <br>
                     <br><b>3. Шаг — Настройка сети на хост-сервере</b>
                     <br>
                     <br><b>!!! ВАЖНО!!! </b>
                     <br>
                      Перед выполнением этого шага, надо убедиться, что на хост-сервере установлен пакет <b>bridge-utils</b>, 
                     <br>
                     <pre><code class="bash"># rpm -qa | grep bridge-utils
</code></pre>
                     <br>
                      иначе при выполнении операций с сетью вы рискуете потерять связь с сервером, особенно обидно если он удаленный, и физического доступа к нему у вас нет. Если вывод предыдущей команды пустой, то: 
                     <br>
                     <pre><code class="bash"># yum -y install bridge-utils
</code></pre>
                     <br>
                      Положим, что для выхода «в мир» использовался интерфейс <b>eth0</b> и он был соответствующим образом настроен.
                     <br>
                      На нем настроен IP-адрес 10.110.10.15 из /24 сети, маска — 255.255.255.0, шлюз 10.110.10.1.
                     <br>
                      Продолжаем, создаем сетевой интерфейс типа «bridge» на хост-сервере
                     <br>
                     <pre><code class="bash"># vi /etc/sysconfig/network-scripts/ifcfg-br0
</code></pre>
                     <br><i>Содержимое файла</i>
                     <br>
                     <pre><code class="bash">DEVICE="br0"
NM_CONTROLLED="no"
ONBOOT="yes"
TYPE="Bridge"
BOOTPROTO="static"
IPADDR="10.110.10.15"
GATEWAY="10.110.10.1"
DNS1="8.8.8.8"
DNS2="8.8.4.4"
MTU="1500"
NETMASK="255.255.255.0"
DEFROUTE="yes"
IPV4_FAILURE_FATAL="yes"
IPV6INIT="no"
NAME="System br0"
</code></pre>
                     <br>
                      Приводим основной сетевой интерфейс, который использовался для выхода в «мир», к виду:
                     <br>
                     <pre><code class="bash"># vi /etc/sysconfig/network-scripts/ifcfg-eth0

DEVICE="eth0"
BOOTPROTO="none"
HOSTNAME="localhost.localdomain"
 
HWADDR="00:9C:02:97:86:70"
 
IPV6INIT="no"
MTU="1500"
NM_CONTROLLED="no"
ONBOOT="yes"
TYPE="Ethernet"
NAME="System eth0"
BRIDGE="br0"
</code></pre>
                     <br><b>!!! Важно!!! </b>
                     <br>
                      DEVICE=«eth0» Имя интерфейса должно остаться таким, как было в системе. Если у вас для выхода в Интернет использовался интерфейс eth1, тогда редактировать надо его.
                     <br><i>HWADDR=«00:2C:C2:85:29:A3»</i> МАС-адрес также должен остаться таким, как был в системе 
                     <br>
                     <br>
                      Когда проверили все, перезагружаем сеть:
                     <br>
                     <pre><code class="bash"># service network restart
</code></pre>
                     <br>
                      Проверяем состояние подключения типа «bridge»:
                     <br>
                     <pre><code class="bash"># brctl show
</code></pre>
                     <br>
                      Получаем что-то вроде этого
                     <br>
                     <pre><code class="bash">bridge name bridge id STP enabled interfaces
br0 8000.002cc28529a3 no eth0
</code></pre>
                     <br>
                      Делаем настройки в <b>iptables</b>, чтобы трафик виртуалок «ходил» через соединение типа <i>bridge</i>
                     <br>
                     <pre><code class="bash"># iptables -I FORWARD -m physdev --physdev-is-bridged -j ACCEPT
# service iptables save
# service iptables restart
</code></pre>
                     <br><i>Опционально:</i> можно улучшить быстродействие соединения bridge, поправив настройки в <b>/etc/sysctl.conf</b>
                     <br>
                     <pre><code class="bash">net.bridge.bridge-nf-call-ip6tables = 0 
net.bridge.bridge-nf-call-iptables = 0 
net.bridge.bridge-nf-call-arptables = 0
</code></pre>
                     <br>
                      После этого
                     <br>
                     <pre><code class="bash"># sysctl -p /etc/sysctl.conf
# service libvirtd reload
</code></pre>
                     <br>
                     <br><b>4. Шаг — Установка новой виртуальной машины</b>
                     <br>
                     <br><i>Установка CentOS на гостевую ВМ:</i>
                     <br>
                     <pre><code class="bash">virt-install -n VMName_2 --ram 1024 --arch=x86_64 \
--vcpus=1 --cpu host --check-cpu \
--extra-args="vnc sshd=1 sshpw=secret ip=static reboot=b selinux=0" \
--os-type linux --os-variant=rhel6 --boot cdrom,hd,menu=on \
--disk pool=guest_images_dir,size=50,bus=virtio \
--network=bridge:br0,model=virtio \
--graphics vnc,listen=0.0.0.0,keymap=ru,password=some.password.here \
--noautoconsole --watchdog default,action=reset --virt-type=kvm \
--autostart --location http://mirror.yandex.ru/centos/6.3/os/x86_64/
</code></pre>
                     <br><i>Примечание 1:</i>
                     <br><b> VMName_2</b> — имя новой виртуальной машины 
                     <br><b> –ram 1024 </b> — кол-во виртуальной памяти 
                     <br><b> –arch=x86_64</b> — архитектура ОС виртуалки 
                     <br><b> –vcpus=1 </b> — кол-во виртуальных процессоров 
                     <br><b>–os-type linux</b> — тип ОС 
                     <br><b> –disk pool=guest_images_dir,size=50</b> — размещение хранилища, размер вирт. диска 
                     <br><b> –network=bridge:br0</b>
                     <br>
                     <br><i>Примечание 2:</i>
                     <br>
                      Если на ВМ нужна «белая сеть», тогда ставим 
                     <br><b>--network=bridge:br0 </b>
                     <br>
                      Если на ВМ требуется «серая сеть», тогда ставим 
                     <br><b>--network=bridge:virbr0 </b>
                     <br>
                      В этом случае для ВМ будет присвоен серый IP по <i>DHCP</i> от хост-сервера.
                     <br><b> --graphics vnc,listen=0.0.0.0,keymap=ru,password=some.password.here</b>
                     <br>
                      Тут указываем пароль для подключения к ВМ по vnc
                     <br>
                     <br><i>Установка Windows на гостевую ВМ:</i>
                     <br>
                     <pre><code class="bash">virt-install --connect qemu:///system --arch=x86_64 \
-n VMName_1 -r 1024 --vcpus=1 \
--disk pool=guest_images_dir,size=50,bus=virtio,cache=none \
-c /iso/Windows2008R2RU.ISO --graphics vnc,listen=0.0.0.0,keymap=ru,password=some.password.here \
--noautoconsole --os-type windows --os-variant win2k8 \
--network=bridge:br0,model=e1000 --disk path=/iso/virtio-win.iso,device=cdrom,perms=ro
</code></pre>
                     <br><i>Примечание:</i>
                     <br>
                      Параметры такие же, как и в примере с установкой CentOS. Но есть различия.
                     <br>
                      При установке ОС Windows не увидит виртуального жесткого диска, поэтому надо подгрузить дополнительный виртуальный <b>cdrom</b> с драйверами /iso/virtio-win.iso — расположение файла ISO с драйверами виртуального диска. Взять можно .
                     <br>
                     <br>
                      Выполняем команду на установку новой ВМ, затем подключаемся по  к хост-серверу для продолжения установки ОС. Для того, чтобы узнать порт для подключения, выполняем:
                     <br>
                     <pre><code class="bash"># netstat -nltp | grep q 
tcp        0      0 0.0.0.0:5900                0.0.0.0:*                   LISTEN      64141/qemu-kvm 
tcp        0      0 0.0.0.0:5903                0.0.0.0:*                   LISTEN      63620/qemu-kvm
tcp        0      0 0.0.0.0:5904                0.0.0.0:*                   LISTEN      6971/qemu-kvm 
tcp        0      0 0.0.0.0:5905                0.0.0.0:*                   LISTEN      57780/qemu-kvm
</code></pre>
                     <br>
                      При установке новой ВМ, порт vnc-сервера увеличится на 1. При удалении ВМ, порт освобождается,
                     <br>
                      и затем выдается новой ВМ. То есть, номер порта последней ВМ не обязательно самый большой из 590…
                     <br>
                      Чтобы узнать, на каком порту vnc виртуалка с определенным названием, вводим:
                     <br>
                     <pre><code class="bash"># virsh vncdisplay VMName_1
:3
</code></pre>
                     <br>
                      где <b>VMName_1 </b> — имя ВМ, <b> :3</b> — номер по порядку порта, начиная с 5900, то есть подключаться надо на порт 5903, но в программе UltraVNC сработает и так <b>10.110.10.15:3 </b>
                     <br>
                     <br>
                     <br><i>Примечание</i>
                     <br>
                      Если при создании ВМ вылетает ошибка <b>Permission denied</b>, kvm не может открыть файл диска ВМ *.img, 
                     <br>
                      значит, надо разрешить выполнение действий qemu-kvm из-под <b>root</b> (предполагается, что управление 
                     <br>
                      ВМ производится из-под специально созданного для этих целей пользователя, например, <i>libvirt</i>). Но мы обойдемся и пользователем <i>root</i>.
                     <br>
                     <br>
                      Поправляем конфиг:
                     <br>
                     <pre><code class="bash"># vi /etc/libvirt/qemu.conf
</code></pre>
                     <br>
                      Находим и раскомментируем в нем строки: 
                     <br>
                     <pre><code class="bash"># The user ID for QEMU processes run by the system instance. 
user = "root" 
# The group ID for QEMU processes run by the system instance. 
group = "root" 
</code></pre>
                     <br>
                     <br><b>Полезно знать: </b>
                     <br>
                      Конфиги ВМ находятся здесь <b>/etc/libvirt/qemu/ </b>
                     <br>
                      Для того, чтобы отредактировать параметры (добавить процессор, ОЗУ или еще что-то), 
                     <br>
                      ищем конфиг ВМ с нужным названием, редактируем:
                     <br>
                     <pre><code class="bash"># vi /etc/libvirt/qemu/VMName_1.xml
</code></pre>
                     <br>
                      К примеру, можно указать статический порт vnc для конкретной ВМ, чтобы всегда подключаться к нужному порту
                     <br>
                     <pre><code class="bash">&lt;graphics type='vnc' port='5914' autoport='no' listen='0.0.0.0' passwd='some.password.here'&gt;
&lt;listen type='address' address='0.0.0.0'/&gt;
&lt;/graphics&gt;
</code></pre>
                     <br>
                      Теперь у этой ВМ порт vnc будет — 5914. Не забудьте перезагрузить libvirtd для применения изменений. Саму ВМ тоже следует перезагрузить. Поэтому изменяйте конфигурационный файл ВМ пока она выключена, далее выполняйте service libvirtd reload, затем стартуйте ВМ.
                     <br>
                     <br><b>Команды для управления ВМ:</b>
                     <br>
                     <pre><code class="bash">virsh -c qemu:///system help
Встроенная помощь по командам 
 
virsh -c qemu:///system list --all
Посмотреть статус установленных ВМ 
 
virsh -c qemu:///system start vsrv1
Запусить ВМ vsrv1 
 
virsh -c qemu:///system shutdown vsrv1
Послать команду завершения работы ВМ 
 
virsh -c qemu:///system destroy vsrv1
Принудительно завершить работу ВМ 
 
virsh -c qemu:///system undefine vsrv1
Удалить ВМ 
</code></pre>
                     <br>
                     <br><b>5. Шаг — Настройка сети в случае «серых» IP-адресов в ВМ </b>
                     <br>
                     <br>
                      Если на 4 шаге вы выбрали серую сеть для новой ВМ (--network=bridge:virbr0), то надо выполнить следующие действия (<b>на хост-сервере!</b>) для проброса трафика на ВМ
                     <br>
                      Разрешить форвардинг трафика на уровне ядра ОС:
                     <br>
                     <pre><code class="bash"># sysctl net.ipv4.ip_forward=1
# iptables -I FORWARD -j ACCEPT
# iptables -t nat -I PREROUTING -p tcp -d 10.110.10.15 --dport 5910 -j DNAT --to-destination 192.168.122.170:5901
</code></pre>
                     <br>
                      Здесь 10.110.10.15 — белый (внешний) IP хост-сервера. 192.168.122.170 — серый IP-адрес гостевой ОС.
                     <br>
                     <pre><code class="bash"># iptables -t nat -I POSTROUTING -p tcp -s 192.168.122.170 --sport 5901 -j SNAT --to-source 10.110.10.15:5910
</code></pre>
                     <br><i>На примере установки ОС CentOS на гостевой машине, когда установка перешла в графический режим, и предлагает подключиться на локальный порт 5901 гостевой ОС.</i>
                     <br>
                      Подключаемся из ПК, за которым сидите, по <i>vnc </i> к 10.110.10.15:5910 или 10.110.10.15:10 тоже сработает в UltraVNC.
                     <br>
                     <br>
                      По такому же принципу можно прокинуть порт (стандартный) RDP 3389 или SSH 22 в гостевую ОС.
                     <br>
                     <br><b>6. Шаг — Подготовка к управлению виртуальными машинами удаленного сервера с удобным графическим интерфейсом (используя virt-manager)</b>
                     <br>
                     <br>
                      Есть много способов «прокинуть» графику удаленного сервера на ПК, за которым выполняете действия администрирования. Мы остановимся на ssh-туннелировании. 
                     <br>
                      Положим, что вы выполняете действия с локального ПК под управлением Windows (в операционных системах под управлением Linux сделать это куда легче :), нужно выполнить всего одну команду <i>ssh -X username@12.34.56.78</i>, конечно, с оговоркой, что на удаленном сервере <b>X11 forwarding</b> разрешен и вы сидите за локальным Linux ПК c графической оболочкой), тогда нам необходимо
                     <br>
                     <br>
                      1. Всем знакомый , 
                     <br>
                      2. Порт сервера X для Windows — 
                     <br>
                      3. В настройках PuTTY включить «Enable X11 Forwarding» 
                     <br>
                      Сделать, как показано на картинке:
                     <br>
                     <br>
                     <br>
                      В момент подключения к удаленному серверу Xming должен быть уже запущен.
                     <br>
                      На хост-сервере с CentOS для SSH включить <b>X11 Forwarding</b>, для этого отредактируйте файл<b> sshd_config</b>:
                     <br>
                     <pre><code class="bash"># vi /etc/ssh/sshd_config

X11Forwarding yes
X11DisplayOffset 10
X11UseLocalhost yes
</code></pre>
                     <br>
                      После этого
                     <br>
                     <pre><code class="bash"># /etc/init.d/sshd restart
</code></pre>
                     <br>
                      Устанавливаем virt-manager на хост-сервере:
                     <br>
                     <pre><code class="bash"># yum install virt-manager
</code></pre>
                     <br>
                      Еще один компонент
                     <br>
                     <pre><code class="bash"># yum -y install xorg-x11-xauth
</code></pre>
                     <br>
                      Чтобы окна отображались без крякозябр
                     <br>
                     <pre><code class="bash"># yum install liberation-sans-fonts
</code></pre>
                     <br>
                     <br><b>7. Шаг — Непосредственный запуск virt-manager</b>
                     <br>
                     <br>
                      После этого надо перезайти по SSH к удаленному серверу. Xming должен быть запущен.
                     <br>
                      Запускаем графическую утилиту управления виртуальными машинами
                     <br>
                     <pre><code class="bash"># virt-manager
</code></pre>
                     <br>
                      Откроется окно virt-manager
                     <br>
                     <br>
                     <br>
                      Консоль управления ВМ
                     <br>
                     <br>
                     <br>
                      Конфигурация ВМ и ее изменение
                     <br>
                     <br>
                     <br>
                      Надеюсь, читателю понравилась статья. Лично я, прочитай бы подобную в своё время, резко сократил бы потраченное время на то, чтобы перелопатить множество мануалов от разных админов, для разных ОС; сохранил бы кучу времени, потраченное на гугление, когда появлялись все новые и новые нюансы.
                     <br>
                     <br>
                      Буду рад замечаниям, предложениям по данной теме.
                    </div>
                   </div>
                  </div><!----> <!---->
                 </div><!----> <!---->
                </div><!---->
                <div class="tm-article-presenter__meta">
                 <div class="tm-article-presenter__meta-list tm-separated-list">
                  <span class="tm-separated-list__title">Теги:</span>
                  <ul class="tm-separated-list__list">
                   <!---->
                  </ul>
                 </div>
                 <div class="tm-article-presenter__meta-list tm-separated-list">
                  <span class="tm-separated-list__title">Хабы:</span>
                  <ul class="tm-separated-list__list">
                   <!---->
                  </ul>
                 </div>
                </div><!---->
               </article>
              </div><!---->
             </div>
             <div class="tm-article-sticky-panel">
              <div class="tm-data-icons tm-article-sticky-panel__icons">
               <div class="tm-article-rating tm-data-icons__item">
                <div title="Всего голосов 36: ↑34 и ↓2" class="tm-votes-lever tm-article-rating__votes-switcher tm-votes-lever tm-votes-lever_appearance-article">
                 <button title="Нравится" type="button" class="tm-votes-lever__button"></button>
                 <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-article">
                  <span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_positive"> +32 </span></span>
                 </div><button title="Не нравится" type="button" class="tm-votes-lever__button"></button>
                </div>
                <div class="v-portal" style="display:none;"></div><!---->
               </div><!----> <!----> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span class="tm-svg-icon__wrapper bookmarks-button__icon"></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter"> 544 </span></button>
               <div title="Поделиться" class="tm-sharing tm-data-icons__item">
                <button type="button" class="tm-sharing__button"></button>
                <div class="v-portal" style="display:none;"></div>
               </div>
               <div title="Читать комментарии" class="tm-article-comments-counter-link tm-data-icons__item">
                <!---->
               </div><!---->
               <div class="v-portal" style="display:none;"></div>
              </div>
             </div>
            </div>
            <div class="tm-article-presenter__footer">
             <div class="tm-article-blocks">
              <!---->
              <section class="tm-block tm-block tm-block_spacing-bottom">
               <!---->
               <div class="tm-block__body tm-block__body tm-block__body_variant-balanced">
                <div class="tm-article-author">
                 <div class="tm-user-card tm-article-author__user-card tm-user-card tm-user-card_variant-article">
                  <div class="tm-user-card__info-container">
                   <div class="tm-user-card__header">
                    <div class="tm-user-card__header-data">
                     <div class="tm-user-card__meta">
                      <div title=" 51 голос " class="tm-counter-container tm-karma tm-karma">
                       <div class="tm-counter-container__header">
                        <div class="tm-karma__votes tm-karma__votes_positive">
                         31
                        </div>
                       </div>
                       <div class="tm-counter-container__footer">
                        <div class="tm-karma__text">
                         Карма
                        </div>
                        <div class="v-portal" style="display:none;"></div>
                       </div>
                      </div>
                      <div title="Рейтинг пользователя" class="tm-counter-container">
                       <div class="tm-counter-container__header">
                        <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating">
                         <!---->
                         <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating">
                          <span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating"> 0 </span></span>
                         </div><!---->
                        </div>
                       </div>
                       <div class="tm-counter-container__footer">
                        <span class="tm-rating__text tm-rating__text"> Рейтинг </span>
                       </div>
                      </div>
                     </div>
                    </div>
                   </div>
                   <div class="tm-user-card__info tm-user-card__info tm-user-card__info_variant-article">
                    <div class="tm-user-card__title tm-user-card__title tm-user-card__title_variant-article">
                     <!----> <!---->
                    </div>
                    <p class="tm-user-card__short-info tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p>
                   </div>
                  </div>
                  <div class="tm-user-card__buttons tm-user-card__buttons tm-user-card__buttons_variant-article">
                   <!----> <!----> <!----> <!---->
                  </div>
                 </div><!---->
                </div>
               </div><!---->
              </section>
              <div class="tm-adfox-banner__container tm-page-article__banner">
               <!---->
               <div id="adfox_164725660339535756" class="tm-adfox-banner tm-adfox-banner tm-adfox-banner_variant-leaderboard"></div>
              </div>
              <div class="tm-article-blocks__comments">
               <div id="publication-comments" class="tm-article-page-comments">
                <div class="tm-article-comments-counter-link tm-article-comments-counter-button">
                 <!---->
                </div>
               </div>
              </div>
              <section class="tm-block tm-block tm-block_spacing-bottom">
               <header class="tm-block__header tm-block__header tm-block__header_variant-borderless">
                <div class="tm-block__header-container">
                 <h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2>
                </div><!---->
               </header>
               <div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim">
                <div class="tm-tabs tm-tabs">
                 <div>
                  <span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim"> Лучшие за сутки </button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_slim"> Похожие </button></span>
                 </div><!---->
                </div>
                <div class="similar-and-daily__tab-view">
                 <div class="placeholder-wrapper">
                  <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!---->
                  <div class="tm-placeholder-article-cards">
                   <div class="tm-placeholder-article-card">
                    <div class="tm-placeholder__user">
                     <div class="tm-placeholder__user-pic loads"></div>
                     <div class="tm-placeholder__user-date loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__title">
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__icons tm-placeholder__counters">
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                    </div>
                   </div>
                   <div class="tm-placeholder-article-card">
                    <div class="tm-placeholder__user">
                     <div class="tm-placeholder__user-pic loads"></div>
                     <div class="tm-placeholder__user-date loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__title">
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__icons tm-placeholder__counters">
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                    </div>
                   </div>
                   <div class="tm-placeholder-article-card">
                    <div class="tm-placeholder__user">
                     <div class="tm-placeholder__user-pic loads"></div>
                     <div class="tm-placeholder__user-date loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__title">
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__icons tm-placeholder__counters">
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                    </div>
                   </div>
                   <div class="tm-placeholder-article-card">
                    <div class="tm-placeholder__user">
                     <div class="tm-placeholder__user-pic loads"></div>
                     <div class="tm-placeholder__user-date loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__title">
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__icons tm-placeholder__counters">
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                    </div>
                   </div>
                   <div class="tm-placeholder-article-card">
                    <div class="tm-placeholder__user">
                     <div class="tm-placeholder__user-pic loads"></div>
                     <div class="tm-placeholder__user-date loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__title">
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                     <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div>
                    </div>
                    <div class="tm-placeholder-article-card__icons tm-placeholder__counters">
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                     <div class="tm-placeholder-data-icon">
                      <div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div>
                      <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div>
                     </div>
                    </div>
                   </div>
                  </div><!----> <!----> <!----> <!----> <!---->
                 </div><!---->
                </div>
               </div><!---->
              </section>
              <div>
               <div class="placeholder-wrapper">
                <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!---->
                <div class="tm-placeholder-promo">
                 <div class="tm-placeholder-promo__header">
                  <div class="tm-placeholder__line tm-placeholder__line_promo-title"></div>
                 </div>
                 <div class="tm-placeholder-promo__body">
                  <div class="tm-placeholder-promo__posts">
                   <div class="tm-placeholder-promo__post">
                    <div class="tm-placeholder-promo__image"></div>
                    <div class="tm-placeholder__line tm-placeholder__line_post-title"></div>
                   </div>
                   <div class="tm-placeholder-promo__post">
                    <div class="tm-placeholder-promo__image"></div>
                    <div class="tm-placeholder__line tm-placeholder__line_post-title"></div>
                   </div>
                   <div class="tm-placeholder-promo__post">
                    <div class="tm-placeholder-promo__image"></div>
                    <div class="tm-placeholder__line tm-placeholder__line_post-title"></div>
                   </div>
                  </div>
                  <div class="tm-placeholder-promo__dots">
                   <div class="tm-placeholder-promo__dot"></div>
                   <div class="tm-placeholder-promo__dot"></div>
                   <div class="tm-placeholder-promo__dot"></div>
                  </div>
                 </div>
                </div><!----> <!----> <!----> <!----> <!----> <!---->
               </div>
              </div>
              <div>
               <div class="placeholder-wrapper">
                <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!---->
                <div class="tm-placeholder-inset tm-placeholder-salary">
                 <div class="tm-placeholder-inset__header">
                  <div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div>
                 </div>
                 <div class="tm-placeholder-salary__body">
                  <div class="tm-placeholder-salary__text">
                   <div class="tm-placeholder__line tm-placeholder__line_salary_average"></div>
                   <div class="tm-placeholder-salary__description">
                    <div class="tm-placeholder__line loads"></div>
                    <div class="tm-placeholder__line loads"></div>
                    <div class="tm-placeholder__line loads"></div>
                    <div class="tm-placeholder__line loads"></div>
                   </div>
                  </div>
                  <div class="tm-placeholder-salary__image loads"></div>
                 </div>
                 <div class="tm-placeholder-inset__footer tm-placeholder-inset__footer_salary">
                  <div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div>
                 </div>
                </div><!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!----> <!---->
               </div>
              </div><!---->
             </div>
            </div>
           </div>
          </div>
         </div>
         <div class="tm-page__sidebar">
          <div class="tm-layout-sidebar">
           <div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial">
            <div class="tm-adfox-banner__container tm-layout-sidebar__banner tm-layout-sidebar__banner_top">
             <!---->
             <div id="adfox_164725680533065327" class="tm-adfox-banner tm-adfox-banner tm-adfox-banner_variant-half-page"></div>
            </div>
           </div>
           <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;">
            <!---->
            <section data-navigatable="" tabindex="0" data-async-called="true" class="tm-block tm-stories-block tm-block tm-block_spacing-around">
             <header class="tm-block__header tm-block__header">
              <div class="tm-block__header-container">
               <h2 class="tm-block__title tm-block__title">Истории</h2>
              </div><!---->
             </header>
             <div class="tm-block__body tm-block__body tm-block__body_variant-equal">
              <div class="tm-stories-empty">
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
               <div class="tm-stories-card-empty">
                <div class="tm-stories-card-empty__image"></div>
                <div class="tm-stories-card-empty__title">
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                 <div class="tm-stories-card-empty__title-block"></div>
                </div>
               </div>
              </div><!---->
             </div><!---->
            </section>
            <section data-async-called="true" class="tm-block tm-block tm-block_spacing-around">
             <header class="tm-block__header tm-block__header">
              <div class="tm-block__header-container">
               <h2 class="tm-block__title tm-block__title">Работа</h2>
              </div><!---->
             </header>
             <div class="tm-block__body tm-block__body">
              <div class="tm-vacancies-block__item">
               <div class="tm-vacancies-block__vacancies-count">
                38 вакансий
               </div>
              </div>
             </div>
             <footer class="tm-block__footer"></footer>
            </section>
            <section data-async-called="true" class="tm-block block tm-block tm-block_spacing-around" data-v-cb9bff32>
             <header class="tm-block__header tm-block__header">
              <div class="tm-block__header-container">
               <h2 class="tm-block__title tm-block__title">Ближайшие события</h2>
              </div><!---->
             </header>
             <div class="tm-block__body tm-block__body">
              <div class="swiper-container slider" style="--swiper-space-between:22px;" data-v-cb9bff32>
               <div class="swiper-wrapper">
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_130" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>1 – 29 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>11:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_154" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>5 – 29 февраля </span>
                     </div><!---->
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_162" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>17 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>10:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_142" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>18 – 19 февраля </span>
                     </div><!---->
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_174" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>19 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>17:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_156" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>19 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>19:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_164" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>19 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>20:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_170" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>21 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>20:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_172" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>21 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>20:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_122" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>27 февраля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>20:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_176" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>1 марта – 19 апреля </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>19:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_140" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>4 – 5 марта </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>10:00 – 20:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Москва</span> <span class="tm-event-card__places-separator"> • </span></span><span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
                <div class="swiper-slide" data-v-cb9bff32>
                 <section id="events_160" tabindex="-1" class="tm-block tm-block tm-block_spacing-none" data-v-cb9bff32>
                  <!---->
                  <div class="tm-event-card tm-event-card_is-widget">
                   <!---->
                   <div class="tm-event-card__info">
                    <div class="tm-event-card__date">
                     <div class="tm-event-card__day">
                      <span>21 марта </span>
                     </div>
                     <div class="tm-event-card__time">
                      <span>09:00 – 18:00</span>
                     </div>
                    </div>
                    <div class="tm-event-card__places">
                     <div class="tm-event-card__places-list">
                      <span class="tm-event-card__places-item"><span>Москва</span> <span class="tm-event-card__places-separator"> • </span></span><span class="tm-event-card__places-item"><span>Онлайн</span> <!----></span>
                     </div>
                    </div>
                    <div class="tm-event-card__footer"></div>
                   </div><!---->
                  </div><!---->
                 </section>
                </div>
               </div><!----> <button class="swiper-button-prev"><span class="tm-svg-icon__wrapper swiper-button-icon"></span></button> <button class="swiper-button-next"><span class="tm-svg-icon__wrapper swiper-button-icon"></span></button>
              </div>
             </div><!---->
            </section>
            <div class="tm-adfox-banner__container tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom">
             <!---->
             <div id="adfox_164725691003361602" class="tm-adfox-banner tm-adfox-banner tm-adfox-banner_variant-medium-rectangle"></div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </main><!---->
    </div>
    <div class="tm-footer-menu">
     <div class="tm-page-width">
      <div class="tm-footer-menu__container">
       <div class="tm-footer-menu__block">
        <p class="tm-footer-menu__block-title">Ваш аккаунт</p>
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list"></ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <p class="tm-footer-menu__block-title">Разделы</p>
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list"></ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <p class="tm-footer-menu__block-title">Информация</p>
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list"></ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <p class="tm-footer-menu__block-title">Услуги</p>
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list"></ul>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="tm-footer">
     <div class="tm-page-width">
      <div class="tm-footer__container">
       <!---->
       <div class="tm-footer__social"></div>
       <div class="v-portal" style="display:none;"></div><button class="tm-footer__link"><!----> Настройка языка </button>
       <div class="tm-footer-copyright">
        <span class="tm-copyright"><span class="tm-copyright__years">© 2006–2024, </span> <span class="tm-copyright__name"></span></span>
       </div>
      </div>
     </div>
    </div><!---->
   </div>
   <div class="vue-portal-target"></div>
  </div>
  <noscript>
   <div>
   </div>
  </noscript>
 </body>
</html>